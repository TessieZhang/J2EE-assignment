<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
     <link href="../css/bootstrap.min.css" rel="stylesheet"> </link>
    <link href="../css/bootstrap.css" rel="stylesheet"> </link>
    <link href="../css/bootstrap-theme.css" rel="stylesheet"> </link>
    <h:head>
        <title></title>
    </h:head>
    <h:body>
        <h:form>
            <ui:composition template="masterPage.xhtml">
            <ui:define name="content">
                <div>
                    <center><h3 style="padding-top: 30px;">Car Detail</h3></center>
                    <table class="search">
                        <tr>
                            <td>Model No:</td>
                            <td>
                                #{vinRecordSaleManagedBean.cars.modelNo}
                            </td>
                        </tr>
                        <tr>
                            <td>Manufacturer:</td>
                            <td>
                                #{vinRecordSaleManagedBean.cars.manufacturer}
                            </td>
                        </tr>
                        <tr>
                            <td>Model:</td>
                            <td>
                                #{vinRecordSaleManagedBean.cars.modelName}
                            </td>
                        </tr>
                        <tr>
                            <td>Type:</td>
                            <td>
                                #{vinRecordSaleManagedBean.cars.carType}
                            </td>
                        </tr>
                        <tr>
                            <td>Thumbnail:</td>
                            <td>
                                <a href="#{vinRecordSaleManagedBean.cars.thumbnail}"><h:graphicImage value="#{vinRecordSaleManagedBean.cars.thumbnail}" style="width:50px;height:50px" /></a>
                            </td>
                        </tr>
                        <tr>
                            <td>Description:</td>
                            <td>
                                #{vinRecordSaleManagedBean.cars.description}
                            </td>
                        </tr>
                        <tr>
                            <td>Preview:</td>
                            <td>
                                <h:outputLink value="#{vinRecordSaleManagedBean.cars.preUrl}" >#{vinRecordSaleManagedBean.cars.modelName}</h:outputLink>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <h:commandButton class="btn btn-large btn-inverse" type="Submit" id="show" value="Select a salesman" action="#{customerManagedBean.showSalesman()}"></h:commandButton>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                            <h:dataTable id="salesman" class="table table-striped table-hover table-condensed" value="#{customerManagedBean.displaySalesman}" var="item">
                            <h:column>    				
                                <f:facet name="header">ID</f:facet>    				
                                    #{item.id}
                            </h:column>
                            <h:column>
                                <f:facet name="header">FirstName</f:facet>    				
                                    #{item.firstName}
                            </h:column>
                            <h:column>
                                <f:facet name="header">LastName</f:facet>    				
                                    #{item.lastName}
                            </h:column>
                            <h:column>
                                <f:facet name="header">Phone Number</f:facet>    				
                                    #{item.phoneNumber}
                            </h:column>
                            <h:column>
                                <f:facet name="header">Pick him</f:facet>    				
                                <h:commandButton class="btn btn-large btn-inverse" type="Submit" action="#{customerManagedBean.buyCar(vinRecordSaleManagedBean.cars.modelNo,item.id)}" value="Select"></h:commandButton>
                            </h:column>
                            </h:dataTable>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h:commandButton id="submit" class="btn btn-large btn-inverse"  value="back to home" action="index"></h:commandButton>
                            </td>
                            <td>
                                <h:outputLabel style="color: red;" id="label" value="#{customerManagedBean.message}"></h:outputLabel>
                            </td>
                        </tr>
                    </table>
                </div>
            </ui:define>
            </ui:composition>
       </h:form>
    </h:body>
</html>

